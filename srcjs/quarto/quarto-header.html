<script type="module">
  const serviceWorkerPath = "../../serviceworker.js";

  // Start the service worker as soon as possible, to maximize the
  // resources it will be able to cache on the first run.
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker
      .register(serviceWorkerPath)
      .then(() => console.log("Service Worker registered"))
      .catch(() => console.log("Service Worker registration failed"));

    navigator.serviceWorker.ready.then(() => {
      if (!navigator.serviceWorker.controller) {
        // For Shift+Reload case; navigator.serviceWorker.controller will
        // never appear until a regular (not Shift+Reload) page load.
        window.location.reload();
      }
    });
  }
</script>
<script src="../../shinylive/jquery.min.js"></script>
<script src="../../shinylive/jquery.terminal/js/jquery.terminal.min.js"></script>
<link
  href="../../shinylive/jquery.terminal/css/jquery.terminal.min.css"
  rel="stylesheet"
/>
<!-- The following line must be uncommented for ?webworker=0 to work. Is
     there a way to conditionally load it? -->
<!-- <script src="../shinylive/pyodide/pyodide.js"></script> -->
<link rel="stylesheet" href="../../shinylive/shinylive.css" />
<script src="../../shinylive/run-python-blocks.js" type="module"></script>
